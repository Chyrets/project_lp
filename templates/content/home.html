{% extends 'base.html' %}
{% load humanize %}

{% block content %}

    <div>
        <ul class="list-group list-group-flush">
            {% for post in posts %}
                <li class="list-group-item mb-4">
                    <div class="mb-3">
                        <h4>
                            <a href="{{ post.get_absolute_url }}" class="no_underline">{{ post.title }}</a>
                        </h4>
                    </div>

                    <div class="mb-3">
                        <a href="#" class="no_underline">{{ post.author }}</a>
                        / {{ post.publication_date|naturaltime }}
                        {% if post.changed %}
                            / ред. {{ post.modification_date|naturaltime }}
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        {% for tag in post.tags.all %}
                            <a href="#" class="no_underline">{{ tag.title }}</a>
                        {% endfor %}
                    </div>

                    <div>
                        {% if post.picture %}
                            <div class="container d-flex align-items-center justify-content-center mb-3">
                                <img class="align-self-center" src="{{ post.picture.url }}" width="80%">
                            </div>
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        {{ post.caption|truncatechars:200 }}
                    </div>

                    <div class="mb-3">
                        {{ post.views }} просмотров /
                        {{ post.likes }} лайков /
                        {{ post.dislikes }} дизлайков /
                        {{ post.comments.count }} комментариев
                    </div>
                </li>
            {% endfor %}
        </ul>
    </div>

{% endblock %}